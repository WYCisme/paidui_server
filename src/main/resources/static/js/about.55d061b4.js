(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0ccb":function(t,e,o){var n=o("50c4"),s=o("1148"),i=o("1d80"),a=Math.ceil,r=function(t){return function(e,o,r){var c,u,l=String(i(e)),f=l.length,h=void 0===r?" ":String(r),d=n(o);return d<=f||""==h?l:(c=d-f,u=s.call(h,a(c/h.length)),u.length>c&&(u=u.slice(0,c)),t?l+u:u+l)}};t.exports={start:r(!1),end:r(!0)}},1148:function(t,e,o){"use strict";var n=o("a691"),s=o("1d80");t.exports="".repeat||function(t){var e=String(s(this)),o="",i=n(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(o+=e);return o}},1566:function(t,e,o){"use strict";var n=o("c81f"),s=o.n(n);s.a},"1dde":function(t,e,o){var n=o("d039"),s=o("b622"),i=o("2d00"),a=s("species");t.exports=function(t){return i>=51||!n((function(){var e=[],o=e.constructor={};return o[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4d90":function(t,e,o){"use strict";var n=o("23e7"),s=o("0ccb").start,i=o("9a0c");n({target:"String",proto:!0,forced:i},{padStart:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}})},5049:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"test"},[o("div",{staticClass:"time"},[o("ht-time")],1),o("div",{staticClass:"title"},[o("h2",[t._v(t._s(this.$route.query.windowNum))]),o("h2",[t._v("当前排队人数："+t._s(t.num))])]),o("div",{staticClass:"control"},[o("el-button",{staticStyle:{width:"200px","font-size":"larger"},attrs:{type:"primary",round:"",disabled:!t.num>0},on:{click:t.jiaohao}},[t._v("下一位")])],1),t.isJH?o("div",{ref:"scroll",staticStyle:{"margin-top":"30px","font-size":"3rem"}},[o("span",{staticClass:"yellow"},[t._v(t._s(t.nowNum))])]):t._e()])},s=[],i=o("c36d"),a={name:"jiaohao",data:function(){return{websock:null,num:0,nowNum:null,windowNum:null,isJH:!1}},components:{HtTime:i["a"]},mounted:function(){var t=this;this.$axios.post("/api/paiduiData").then((function(e){e&&200===e.status&&(console.log("排队数据",e.data),t.num=e.data.data.length)}))},created:function(){this.initWebSocket()},destroyed:function(){this.websock.close()},methods:{jiaohao:function(){console.log("开始叫号"),this.$axios.post("/api/jiaohao/"+this.$route.query.windowNum).then((function(t){t&&t.status}))},initWebSocket:function(){var t="ws://"+this.$store.state.serverHostIP+":8080/websocket/jiaohao_"+this.$route.query.windowNum;this.websock=new WebSocket(t),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){var t={type:"jiaohao",name:"窗口"};this.websocketsend(JSON.stringify(t))},websocketonerror:function(){this.initWebSocket()},websocketonmessage:function(t){var e=JSON.parse(t.data);console.log("服务端更新数据：",e),this.num=e.data.length,"jiaohao"===e.type&&(this.isJH=!0,this.nowNum=e.msg)},websocketsend:function(t){this.websock.send(t)},websocketclose:function(t){console.log("断开连接",t)}}},r=a,c=(o("900b"),o("2877")),u=Object(c["a"])(r,n,s,!1,null,null,null);e["default"]=u.exports},"65f0":function(t,e,o){var n=o("861d"),s=o("e8b5"),i=o("b622"),a=i("species");t.exports=function(t,e){var o;return s(t)&&(o=t.constructor,"function"!=typeof o||o!==Array&&!s(o.prototype)?n(o)&&(o=o[a],null===o&&(o=void 0)):o=void 0),new(void 0===o?Array:o)(0===e?0:e)}},8418:function(t,e,o){"use strict";var n=o("c04e"),s=o("9bf2"),i=o("5c6c");t.exports=function(t,e,o){var a=n(e);a in t?s.f(t,a,i(0,o)):t[a]=o}},"900b":function(t,e,o){"use strict";var n=o("ee0e"),s=o.n(n);s.a},"99af":function(t,e,o){"use strict";var n=o("23e7"),s=o("d039"),i=o("e8b5"),a=o("861d"),r=o("7b0b"),c=o("50c4"),u=o("8418"),l=o("65f0"),f=o("1dde"),h=o("b622"),d=o("2d00"),m=h("isConcatSpreadable"),v=9007199254740991,b="Maximum allowed index exceeded",w=d>=51||!s((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),p=f("concat"),g=function(t){if(!a(t))return!1;var e=t[m];return void 0!==e?!!e:i(t)},k=!w||!p;n({target:"Array",proto:!0,forced:k},{concat:function(t){var e,o,n,s,i,a=r(this),f=l(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(i=-1===e?a:arguments[e],g(i)){if(s=c(i.length),h+s>v)throw TypeError(b);for(o=0;o<s;o++,h++)o in i&&u(f,h,i[o])}else{if(h>=v)throw TypeError(b);u(f,h++,i)}return f.length=h,f}})},"9a0c":function(t,e,o){var n=o("342f");t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},"9e7c":function(t,e,o){},c36d:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hospital-time"},[t._m(0),o("div",{staticClass:"time-container"},[o("div",{staticClass:"date"},[o("span",[t._v(t._s(t.day))]),o("span",{staticClass:"hour"},[t._v(t._s(t.hour))])]),o("div",{staticClass:"day-hour"},[o("span",[t._v(t._s(t.date))])])])])},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"time-icon"},[o("i",{staticClass:"el-icon-time"})])}],i=(o("99af"),o("4d90"),["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]),a=function(t){return String(t).padStart(2,"0")},r={data:function(){return{date:"2020-06-07",hour:"12:00",day:"星期日",timer:-1}},created:function(){var t=this;this._updateTime(),this.timer=window.setInterval((function(){return t._updateTime()}),1e4)},methods:{_updateTime:function(){var t=new Date;this.day=i[t.getDay()],this.date="".concat(t.getFullYear(),"-").concat(a(t.getMonth()+1),"-").concat(a(t.getDate())),this.hour="".concat(a(t.getHours()),":").concat(a(t.getMinutes()))}},beforeDestroy:function(){window.clearInterval(this.timer)}},c=r,u=(o("1566"),o("2877")),l=Object(u["a"])(c,n,s,!1,null,"34b97f46",null);e["a"]=l.exports},c81f:function(t,e,o){},e677:function(t,e,o){"use strict";var n=o("9e7c"),s=o.n(n);s.a},e8b5:function(t,e,o){var n=o("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},ee0e:function(t,e,o){},f64f:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"main"},[o("div",{staticClass:"time"},[o("ht-time")],1),t.isJH?o("div",{ref:"scroll",staticStyle:{"margin-top":"30px","font-size":"3rem"}},[o("span",{staticClass:"yellow"},[t._v(t._s(t.nowNum))])]):t._e(),o("div",{staticClass:"title"},[o("h2",[t._v("当前排队人数："+t._s(t.num))]),o("el-button",{staticStyle:{width:"200px","font-size":"larger"},attrs:{type:"success",round:""},on:{click:t.quhao}},[t._v("取号")]),o("div",{staticStyle:{"margin-top":"30px","font-size":"2rem",color:"brown"}},[t._v(t._s(t.yourNum))])],1)])},s=[],i=o("c36d"),a={name:"quhao",data:function(){return{callings:[],scrollTimer:-1,timer:-1,websock:null,num:0,yourNum:null,nowNum:null,isJH:!1}},components:{HtTime:i["a"]},created:function(){this.initWebSocket()},mounted:function(){var t=this;this.$axios.post("http://localhost:8080/paiduiData").then((function(e){e&&200===e&&(console.log("排队数据",e.data),t.num=e.data.length)}))},destroyed:function(){this.websock.close()},methods:{quhao:function(){var t=this;console.log("开始取号"),this.$axios.post("/api/quhao").then((function(e){console.log("返回",e),e&&200===e.status&&(t.yourNum=e.data.msg)}))},initWebSocket:function(){var t="ws://"+this.$store.state.serverHostIP+":8080/websocket/quhao";this.websock=new WebSocket(t),this.websock.onmessage=this.websocketonmessage,this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onclose=this.websocketclose},websocketonopen:function(){var t={type:"quhao",name:"窗口"};this.websocketsend(JSON.stringify(t))},websocketonerror:function(){this.initWebSocket()},websocketonmessage:function(t){var e=this,o=JSON.parse(t.data);console.log("服务端更新数据：",o),this.num=o.data.length,"jiaohao"===o.type&&(this.isJH=!0,this.nowNum=o.msg,this.voicePrompt(o.msg),setTimeout((function(){e.voicePrompt(o.msg)}),5e3))},websocketsend:function(t){this.websock.send(t)},websocketclose:function(t){console.log("断开连接",t)}}},r=a,c=(o("e677"),o("2877")),u=Object(c["a"])(r,n,s,!1,null,null,null);e["default"]=u.exports},f820:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"about"},[o("h1",[t._v("This is an about page")])])}],i=o("2877"),a={},r=Object(i["a"])(a,n,s,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=about.55d061b4.js.map